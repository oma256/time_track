{% extends 'base.html' %}
{% load static staticfiles i18n %}

{% block title %}{% trans 'Страница добавления сотрудника' %}{% endblock %}

{% block content %}
    <main class="add-employee">
        {% include 'components/header.html' %}
        <div class="right">
            {% include 'components/right-header.html' %}
            <div class="">
                <h1>{% trans 'Добавить сотрудника' %}</h1>
                <div class="add-employee__content">
                    <form action="">
                        <div class="input">
                            <input type="text" name="input1" id="input1_id" placeholder="{% trans 'Фамилия сотрудника' %}" required="required">
                            <label for="input1">{% trans 'Фамилия сотрудника' %}</label>
                            <p id="input1_error_id" style="display: block;">{% trans 'Обязательное поле' %}</p>
                        </div>
                        <div class="input">
                            <input type="text" name="input2" id="input2_id" placeholder="{% trans 'Имя сотрудника' %}" required="required">
                            <label for="input2">{% trans 'Имя сотрудника' %}</label>
                            <p id="input2_error_id" style="display: block;">{% trans 'Обязательное поле' %}</p>
                        </div>
                        <div class="input">
                            <input type="text" name="input3" id="input3_id" placeholder="{% trans 'Отчество сотрудника' %}" required="required">
                            <label for="input3">{% trans 'Отчество сотрудника' %}</label>
                        </div>
                        <div class="input">
                            <input type="text" name="input4" id="input4_id" placeholder="{% trans 'Введите должность' %}" required="required">
                            <label for="input4">{% trans 'Введите должность' %}</label>
                            <p id="input4_error_id" style="display: block;">{% trans 'Обязательное поле' %}</p>
                        </div>
                        <div class="input">
                            <input type="text" name="input5" id="phone" placeholder="{% trans 'Введите номер телефона' %}" required="required">
                            <label for="input5">{% trans 'Введите номер телефона' %}</label>
                            <p id="input5_error_id" style="display: block;">{% trans 'Обязательное поле' %}</p>
                        </div>
                        <div class="checkbox-all">
                            <div class="checkbox-and-radio filial-and-department">
                                <div class="checkbox-block">
                                    <div class="checkbox">
                                        <input type="checkbox" id="checkbox1">
                                        <label for="checkbox1"></label>
                                    </div>
                                    <div class="checkbox-info">
                                        <div class="name">{% trans 'Филиал' %}</div>
                                        <div class="info">{% trans 'Пропустите, если у Вас один офис' %}</div>
                                    </div>
                                </div>
                                <div class="select-content__all">
                                    <div class="select-content__info">
                                        <span id="filial-name_id">{% trans 'Выберите филиал' %}</span>
                                    </div>
                                    <div class="select-content" id="filial-list-id">
                                        <div class="select-content__inner list-filials">
                                            <div id="filial_list_id">
                                                {% include 'components/settings_form_filial_list.html' %}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>


                            <div class="checkbox-and-radio filial-and-department">
                                <div class="checkbox-block">
                                    <div class="checkbox">
                                        <input type="checkbox" id="checkbox2">
                                        <label for="checkbox2"></label>
                                    </div>
                                    <div class="checkbox-info">
                                        <div class="name">{% trans 'Отдел' %}</div>
                                        <div class="info">{% trans 'Пропустите, если у Вас нет отделов' %}</div>
                                    </div>
                                </div>
                                <div class="select-content__all">
                                    <div class="select-content__info">
                                        <span id="department-name_id">{% trans 'Выберите отдел' %}</span>
                                    </div>
                                    <div class="select-content" id="departments-list-id">
                                        <div class="select-content__inner">
                                            <div id="departments_block_id">
                                                {% include 'components/departments_list.html' %}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="checkbox-and-radio set-time">
                                <div class="checkbox-block">
                                    <div class="checkbox">
                                        <input type="checkbox" id="checkbox3">
                                        <label for="checkbox3"></label>
                                    </div>
                                    <div class="checkbox-info">
                                        <div class="name">{% trans 'Персонально установить время начала и окончания рабочего дня' %}</div>
                                    </div>
                                </div>
                                <div class="select-content__time-all">
                                    <div class="select-content__start-time">
                                        <div class="time-start">{% trans 'Время начала' %}</div>
                                        <div class="start-time__block">
                                            <div class="select-content__all">
                                                <div class="select-content__time">
                                                    <div class="select-content__info">
                                                        <span id="begin-hour_id">{{ org_setting.start_time|time:'H' }}</span>
                                                    </div>
                                                    <div class="select-content">
                                                        <div class="select-content__inner" id="begin_hour_time_id"></div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="select-content__all">
                                                <div class="select-content__time">
                                                    <div class="select-content__info">
                                                        <span id="begin-min_id">{{ org_setting.start_time|time:'i' }}</span>
                                                    </div>
                                                    <div class="select-content">
                                                        <div class="select-content__inner" id="select-content__inner_begin_time_id"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="select-content__end-time">
                                        <div class="time-start">{% trans 'Время окончания' %}</div>
                                        <div class="end-time__block">
                                            <div class="select-content__all">
                                                <div class="select-content__time">
                                                    <div class="select-content__info">
                                                        <span id="end-hour_id">{{ org_setting.end_time|time:'H' }}</span>
                                                    </div>
                                                    <div class="select-content">
                                                        <div class="select-content__inner" id="end_hour_time_id"></div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="select-content__all">
                                                <div class="select-content__time">
                                                    <div class="select-content__info">
                                                        <span id="end-min_id">{{ org_setting.end_time|time:'i' }}</span>
                                                    </div>
                                                    <div class="select-content">
                                                        <div class="select-content__inner" id="select-content__inner_end_time_id"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="filter-block"></div>
                                </div>
                            </div>
                            <div class="checkbox-and-radio set-time">
                                <div class="checkbox-block">
                                    <div class="checkbox">
                                        <input type="checkbox" id="checkbox4">
                                        <label for="checkbox4"></label>
                                    </div>
                                    <div class="checkbox-info">
                                        <div class="name">{% trans 'Указать не штрафуемые минуты' %}</div>
                                    </div>
                                </div>
                                <div class="select-content__time-all">
                                    <div class="select-content__all">
                                        <div class="select-content__time">
                                            <div class="select-content__info">
                                                <span id="non-fined-min_id">{{ org_setting.non_fined_minute }}</span>
                                            </div>
                                            <div class="select-content">
                                                <div class="select-content__inner" id="non_fined_minute_id"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="filter-block"></div>
                                </div>
                            </div>
                            <button type="button" id="save_button_id" disabled>{% trans 'Сохранить' %}</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div class="add-staff__modal-finish" id="success-modal-block_id" style="display: none;">
            <div class="modal-finish__content">
                <div class="modal-icon"></div>
                <p>{% trans 'Сотрудник успешно добавлен' %}</p>
                <div class="modal-finish__close">
                    <span>{% trans 'Хорошо' %}</span>
                </div>
            </div>
        </div>
    </main>
{% endblock %}

{% block script %}
    <script>
      const orgID = '{{ organization.id }}';
      const departmentsByFilialEndpoint = '{% url "organizations:departments_list_filial" %}';
      const employeeCreateEndpoint = '{% url 'organizations:employee_create' org_pk=organization.id %}';
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.maskedinput/1.4.1/jquery.maskedinput.min.js"></script>
    <script src="{% static 'js/utils/phone_fields.js' %}"></script>
    <script src="{% static 'js/utils/time_fields.js' %}"></script>
    <script src="{% static 'js/utils/cookie.js' %}"></script>
    <script src="{% static 'js/form_input_mask.js' %}"></script>
    <script src="{% static 'js/staff/add_emplayee.js' %}"></script>

{% endblock %}











